## Chapter 2

- 챕터2
  - 리팩토링 : 소프트웨어의 겉보기 동작은 유지한 채 코드의 내부 구조를 변경하는 기법
  - " 리팩토링하다 코드가 깨져 몇일이나 고생했다면 그건 리팩토링한 것이 아니다."
  - 기능 추가 / 리팩토링 - 역할을 구분하여 작업 진행하기
    - 기능추가 → 기존 코드는 절대 건드리지 않고 새 기능을 추가
    - 리팩토링 → 새 기능을 추가하지 않고, 테스트 코드도 추가하지 않고(앞에서 놓쳤음 어쩔 수 없음) 코드 재구성만 집중
  - "빠른 개발이라는 숭고한 목표를 달성하려면 리팩토링이 반드시 필요하다."
  - 언제 리팩토링을 해야 할까?
    - 저자는 한시간 간격으로 리팩토링
    - **3의 법칙**
      1. 처음엔 그냥 한다.
      2. 비슷한 일을 두 번째로 하게 되면 일단 계속 진행.
      3. 비슷한 일을 세 번째 하게 되면 리팩토링
    - 코드에 기능을 새로 추가하기 직전 - 기능을 쉽게 추가하기 위한 준비
    - 이해를 위한 리팩토링 - 코드 수정 전 코드에 대한 이해 높히기
    - 쓰레기 줍기 리팩토링 - 비효율적인 부분 수정. 간단히 수정할 수 있는건 바로. 시간이 걸리면 기능 개발 후.
    - 위에 나열된 것은 계획된 리팩토링. 수시로 진행하는 리팩토링도 필요. 저자는 보통 수시로 진행
    - "무언가 수정하려 할 때는 먼저 수정하기 쉽게 정돈하고(어려울지라도) 그런 다음 쉽게 수정하자 - 켄트 백"
    - 리팩토링이 오래 걸릴 경우, 리팩토링은 코드를 깨트리지 않는다는 장점 활용하기.
    - 리팩토링 하지 말아야 할 때
      - 굳이 수정할 필요없는 코드
      - 처음부터 새로 작성하는게 쉬울 때
  - 리팩토링은 클린코드가 목적이 아닌 개발기간을 단축하고자 하는 경제적인 이유로 진행하는 것.
  - 마스터 브랜치로의 머지 주기를 2~3일 내외로 짧게 가는것을 추천
  - 테스트 아주 중요
  - 레거시 코드를 리팩토링할 때 - 테스트 보강 필요
  - 리팩토링은 유연성있게 미리 상상(?)해서 개발하는게 아닌 현재 요구사항을 해결하는 것을 추구
